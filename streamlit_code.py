# -*- coding: utf-8 -*-
"""Streamlit_code.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1v19vMbHKQVwA4aHg58M8H2lqrh-u18f3
"""

import streamlit as st
import pickle
import numpy as np

# Load the trained model
with open('model.pkl', 'rb') as file:
    model = pickle.load(file)

with open('scaler.pkl', 'rb') as file:
    model = pickle.load(file)

def main():
    st.title("Mobile Price Prediction App")
    st.write("Enter the mobile features below to predict its price range.")

    # Input fields for 21 mobile features
    battery_power = st.number_input('Battery Power (mAh)', min_value=500, max_value=5000, step=100)
    blue = st.selectbox('Bluetooth (0: No, 1: Yes)', [0, 1])
    clock_speed = st.number_input('Clock Speed (GHz)', min_value=0.5, max_value=3.0, step=0.1)
    dual_sim = st.selectbox('Dual SIM (0: No, 1: Yes)', [0, 1])
    fc = st.number_input('Front Camera (MP)', min_value=0, max_value=20, step=1)
    four_g = st.selectbox('4G (0: No, 1: Yes)', [0, 1])
    int_memory = st.number_input('Internal Memory (GB)', min_value=2, max_value=256, step=2)
    m_dep = st.number_input('Mobile Depth (cm)', min_value=0.1, max_value=1.0, step=0.1)
    mobile_wt = st.number_input('Mobile Weight (g)', min_value=80, max_value=250, step=10)
    n_cores = st.number_input('Number of Cores', min_value=1, max_value=8, step=1)
    pc = st.number_input('Primary Camera (MP)', min_value=0, max_value=50, step=1)
    ram = st.number_input('RAM (MB)', min_value=256, max_value=8192, step=256)
    talk_time = st.number_input('Talk Time (hours)', min_value=2, max_value=24, step=1)
    three_g = st.selectbox('3G (0: No, 1: Yes)', [0, 1])
    touch_screen = st.selectbox('Touch Screen (0: No, 1: Yes)', [0, 1])
    wifi = st.selectbox('WiFi (0: No, 1: Yes)', [0, 1])

    # px_height = st.number_input('Pixel Height', min_value=0, max_value=2000, step=10)
    # px_width = st.number_input('Pixel Width', min_value=0, max_value=2000, step=10)

    screen_size = st.number_input('Screen Size (inches)', min_value=4, max_value=18, step=1)
    pixels = st.number_input('Pixels (MP)', min_value=0, max_value=4000000, step=10)

    # sc_h = st.number_input('Screen Height (cm)', min_value=0, max_value=20, step=1)
    # sc_w = st.number_input('Screen Width (cm)', min_value=0, max_value=20, step=1)

    # Predict price range
    if st.button('Predict Price Range'):
        features = np.array([[battery_power, blue, clock_speed, dual_sim, fc, four_g,
                              int_memory, m_dep, mobile_wt, n_cores, pc,
                              ram, talk_time, three_g,
                              touch_screen, wifi, screen_size, pixels]])

        scaled_features = scaler.transform(features)

        prediction = model.predict(scaled_features)
        st.write(f'The predicted price range is: {prediction[0]}')

if __name__ == '__main__':
    main()